/*! suanliao */
define("bui/grid",["bui/common","bui/grid/simplegrid","bui/grid/grid","bui/grid/column","bui/grid/header","bui/grid/format","bui/grid/plugins"],function(a){var b=a("bui/common"),c=b.namespace("Grid");return b.mix(c,{SimpleGrid:a("bui/grid/simplegrid"),Grid:a("bui/grid/grid"),Column:a("bui/grid/column"),Header:a("bui/grid/header"),Format:a("bui/grid/format"),Plugins:a("bui/grid/plugins")}),c}),define("bui/grid/column",["bui/common"],function(a){var b=a("bui/common"),c=b.prefix,d=c+"grid-hd-title",e=c+"grid-hd-open",f="sort-",g="ASC",h="DESC",i=c+"grid-hd-menu-trigger",j="grid-hd-menu-trigger",k=b.Component.View.extend({setTplContent:function(a){var b,c=this,e=c.get("sortTpl"),f=c.get("triggerTpl"),g=c.get("el");k.superclass.setTplContent.call(c,a),b=g.find("."+d),$(e).insertAfter(b),$(f).insertAfter(b)},_setContent:function(){this.setTplContent()},_uiSetShowMenu:function(a){var b=this,c=b.get("triggerTpl"),e=b.get("el"),f=e.find("."+d);a?$(c).insertAfter(f):e.find("."+i).remove()},_uiSetTitle:function(){this.get("rendered")&&this._setContent()},_uiSetDraggable:function(){this.get("rendered")&&this._setContent()},_uiSetSortable:function(){this.get("rendered")&&this._setContent()},_uiSetTpl:function(){this.get("rendered")&&this._setContent()},_uiSetSortState:function(a){var b=this,c=b.get("el"),d=f+"asc",e=f+"desc";c.removeClass(d+" "+e),"ASC"===a?c.addClass(d):"DESC"===a&&c.addClass(e)},_uiSetOpen:function(a){var b=this,c=b.get("el");a?c.addClass(e):c.removeClass(e)}},{ATTRS:{sortTpl:{view:!0,getter:function(){var a=this,b=a.get("sortable");return b?'<span class="'+c+'grid-sort-icon">&nbsp;</span>':""}},tpl:{}}}),l=b.Component.Controller.extend({_toggleSortState:function(){var a=this,b=a.get("sortState"),c=b?b===g?h:g:g;a.set("sortState",c)},performActionInternal:function(a){var b=this,c=$(a.target),d=b.get("prefixCls");c.hasClass(d+j)||b.get("sortable")&&b._toggleSortState()},_uiSetWidth:function(a){a&&this.set("originWidth",a)}},{ATTRS:{elTagName:{value:"th"},open:{view:!0,value:!1},dataIndex:{view:!0,value:""},draggable:{sync:!1,view:!0,value:!0},editor:{},focusable:{value:!1},fixed:{value:!1},id:{},renderer:{},resizable:{value:!0},sortable:{sync:!1,view:!0,value:!0},sortState:{view:!0,value:null},title:{sync:!1,view:!0,value:"&#160;"},width:{value:100},showMenu:{view:!0,value:!1},triggerTpl:{view:!0,value:'<span class="'+i+'"></span>'},tpl:{sync:!1,view:!0,value:'<div class="'+c+'grid-hd-inner">'+'<span class="'+d+'">{title}</span>'+"</div>"},cellTpl:{value:""},events:{value:{afterWidthChange:!0,afterSortStateChange:!0,afterVisibleChange:!0,click:!0,resize:!0,move:!0}},xview:{value:k}}},{xclass:"grid-hd",priority:1});return l.Empty=l.extend({},{ATTRS:{type:{value:"empty"},sortable:{view:!0,value:!1},width:{view:!0,value:null},tpl:{view:!0,value:'<div class="'+c+'grid-hd-inner"></div>'}}},{xclass:"grid-hd-empty",priority:1}),l}),define("bui/grid/grid",["bui/common","bui/mask","bui/toolbar","bui/list","bui/grid/header","bui/grid/column"],function(a){function b(a){return d.isString(a)?-1!==a.indexOf("%"):!1}function c(a){return d.isNumber(a)&&(a-=E),a}var d=a("bui/common"),e=(a("bui/mask"),d.UA),f=d.Component,g=(a("bui/toolbar"),a("bui/list")),h=a("bui/grid/header"),i=a("bui/grid/column"),j=d.prefix,k=j+"grid-header-container",l=j+"grid-body",m=j+"grid-width",n=j+"grid-height",o=j+"grid-border",p=j+"grid-tbar",q=j+"grid-bbar",r=j+"grid-button-bar",s=j+"grid-strip",t=j+"grid-row",u=j+"grid-row-odd",v=j+"grid-row-even",w=j+"grid-cell",x=j+"grid-cell-inner",y="grid-td-",z=j+"grid-cell-text",A=j+"grid-cell-empty",B="17",C=j+"hidden",D="data-column-field",E=2,F=g.SimpleListView.extend({renderUI:function(){var a=this,b=a.get("el"),c=b.find("."+l);a.set("bodyEl",c),a._setTableTpl()},getItemTpl:function(a,b){var c=this,e=c._getColumns(),f=(c.get("tbodyEl"),c.get("rowTpl")),g=0===b%2?u:v,h=[];return $.each(e,function(b,d){var e=d.get("dataIndex");h.push(c._getCellTpl(d,e,a))}),c.get("useEmptyCell")&&h.push(c._getEmptyCellTpl()),f=d.substitute(f,{cellsTpl:h.join(""),oddCls:g})},findRow:function(a){var b=this;return $(b.findElement(a))},findCell:function(a,b){var c=y+a;return b.find("."+c)},resetHeaderRow:function(){if(this.get("useHeaderRow")){var a=this,b=a.get("headerRowEl"),c=a.get("tbodyEl");b&&b.remove(),b=a._createHeaderRow(),b.prependTo(c),a.set("headerRowEl",b)}},resetColumnsWidth:function(a,b){var c=this,d=c.get("headerRowEl"),e=c.findCell(a.get("id"),d);b=b||a.get("width"),e&&e.width(b),c.setTableWidth()},setTableWidth:function(a){if(!a&&b(this.get("width")))return this.get("tableEl").width("100%"),void 0;var c=this,d=c._getInnerWidth(),f=c.get("height"),g=c.get("tableEl");if(c.get("forceFit"),c.get("headerRowEl"),!b(a)){if(a=a||c._getColumnsWidth(),!d)return;if(d>=a&&(a=d,f)){var h=6==e.ie||7==e.ie?B+2:B;a=d-h}}g.width(a)},setBodyWidth:function(a){var b=this,c=b.get("bodyEl");a=a||b._getInnerWidth(),c.width(a)},setBodyHeight:function(a){var b=this,c=b.get("bodyEl"),e=a,f=c.siblings();d.each(f,function(a){"none"!==$(a).css("display")&&(e-=$(a).outerHeight())}),c.height(e)},setColumnVisible:function(a){var b=this,c=!a.get("visible"),d=a.get("id"),e=b.get("tbodyEl"),f=$("."+y+d,e);c?f.hide():f.show()},updateItem:function(a){var b=this,c=b.getItems(),e=d.Array.indexOf(a,c),f=b._getColumns(),g=null;return e>=0?(g=b.findElement(a),d.each(f,function(c){var d=b.findCell(c.get("id"),$(g)),e=d.find("."+x),f=b._getCellText(c,a);e.html(f)}),g):void 0},showEmptyText:function(){var a=this,b=a.get("bodyEl"),c=a.get("emptyDataTpl"),d=a.get("emptyEl");d&&d.remove();var d=$(c).appendTo(b);a.set("emptyEl",d)},clearEmptyText:function(){var a=this,b=a.get("emptyEl");b&&b.remove()},_createHeaderRow:function(){var a,b=this,c=b._getColumns(),e=b.get("tbodyEl"),f=b.get("headerRowTpl"),g=[];return $.each(c,function(a,c){g.push(b._getHeaderCellTpl(c))}),b.get("useEmptyCell")&&g.push(b._getEmptyCellTpl()),f=d.substitute(f,{cellsTpl:g.join("")}),a=$(f).appendTo(e)},_getColumnsWidth:function(){var a=this,b=a.get("columns"),c=0;return d.each(b,function(a){a.get("visible")&&(c+=a.get("el").outerWidth())}),c},_getColumns:function(){return this.get("columns")},_getCellText:function(a,b){var c=this,e=a.get("dataIndex"),f=a.get("cellTpl")||c.get("cellTextTpl"),g=c._getCellInnerText(a,e,b);return d.substitute(f,{text:g,tips:c._getTips(a,e,b)})},_getCellInnerText:function(a,b,c){try{var d=a.get("renderer"),e=d?d(c[b],c):c[b];return null==e?"":e}catch(f){throw"column:"+a.get("title")+" fomat error!"}},_getCellTpl:function(a,b,c){var e=this,f=e._getCellText(a,c),g=e.get("cellTpl");return d.substitute(g,{elCls:a.get("elCls"),id:a.get("id"),dataIndex:b,cellText:f,hideCls:a.get("visible")?"":C})},_getEmptyCellTpl:function(){return'<td class="'+w+" "+A+'">&nbsp;</td>'},_getHeaderCellTpl:function(a){var b=this,c=b.get("headerCellTpl");return d.substitute(c,{id:a.get("id"),width:a.get("width"),hideCls:a.get("visible")?"":C})},_getInnerWidth:function(){return c(this.get("width"))},_getTips:function(a,b,c){var e=a.get("showTip"),f="";return e&&(f=c[b],d.isFunction(e)&&(f=e(f,c))),f},_uiSetInnerBorder:function(a){var b=this,c=b.get("el");a?c.addClass(o):c.removeClass(o)},_setTableTpl:function(a){var b=this,c=b.get("bodyEl");a=a||b.get("tableTpl"),$(a).appendTo(c);var d=c.find("table"),e=c.find("tbody");b.set("tableEl",d),b.set("tbodyEl",e),b.set("itemContainer",e),b._setTableCls(b.get("tableCls"))},_uiSetTableCls:function(a){this._setTableCls(a)},_uiSetHeight:function(a){var b=this;b.get("bodyEl"),b.get("el").height(a),b.get("el").addClass(n)},_uiSetWidth:function(a){var b=this;b.get("el").width(a),b.setBodyWidth(b._getInnerWidth(a)),b.get("el").addClass(m)},_uiSetStripeRows:function(a){var b=this,c=a?"addClass":"removeClass";b.get("el")[c](s)},_setTableCls:function(a){var b=this,c=b.get("tableEl");c.attr("class",a)}},{ATTRS:{tableCls:{},bodyEl:{},tbodyEl:{},headerRowEl:{},tableEl:{},emptyEl:{}}},{xclass:"grid-view"}),G=g.SimpleList.extend({initializer:function(){var a=this,b=a.get("render"),c=a.get("width");c||a.set("width",$(b).width())},createDom:function(){var a=this;a.get("width")&&a.get("el").addClass(m),a.get("height")&&a.get("el").addClass(n),a.get("innerBorder")&&a.get("el").addClass(o)},renderUI:function(){var a=this;a._initHeader(),a._initBars(),a._initLoadMask(),a.get("view").resetHeaderRow()},bindUI:function(){var a=this;a._bindHeaderEvent(),a._bindBodyEvent(),a._bindItemsEvent()},addColumn:function(a,b){var c=this,d=c.get("header");return d?a=d.addColumn(a,b):(a=new i(a),c.get("columns").splice(b,0,a)),a},clearData:function(){this.clearItems()},getRecords:function(){return this.getItems()},findColumn:function(a){var b=this,c=b.get("header");return d.isNumber(a)?c.getColumnByIndex(a):c.getColumnById(a)},findColumnByField:function(a){var b=this,c=b.get("header");return c.getColumn(function(b){return b.get("dataIndex")===a})},findCell:function(a,b){var c=this,d=null;return d=b instanceof $?b:c.findRow(b),d?c.get("view").findCell(a,d):null},findRow:function(a){var b=this;return b.get("view").findRow(a)},removeColumn:function(a){var b=this;b.get("header").removeColumn(a)},showData:function(a){var b=this;b.set("items",a)},resetColumns:function(){var a=this,b=a.get("store");a.get("view").resetHeaderRow(),b&&a.onLoad()},_bindScrollEvent:function(){var a=this,b=a.get("el"),c=b.find("."+l),d=a.get("header");c.on("scroll",function(){var b=c.scrollLeft(),e=c.scrollTop();d.scrollTo({left:b,top:e}),a.fire("scroll",{scrollLeft:b,scrollTop:e,bodyWidth:c.width(),bodyHeight:c.height()})})},_bindHeaderEvent:function(){var a=this,b=a.get("header"),c=a.get("view"),d=a.get("store");b.on("afterWidthChange",function(a){var d=a.target;d!==b&&c.resetColumnsWidth(d)}),b.on("afterSortStateChange",function(a){var b=a.target,c=a.newVal;c&&d&&d.sort(b.get("dataIndex"),b.get("sortState"))}),b.on("afterVisibleChange",function(d){var e=d.target;e!==b&&(c.setColumnVisible(e),a.fire("columnvisiblechange",{column:e}))}),b.on("click",function(c){var d=c.target;d!==b&&a.fire("columnclick",{column:d,domTarget:c.domTarget})}),b.on("forceFitWidth",function(){a.get("rendered")&&a.resetColumns()}),b.on("add",function(b){a.get("rendered")&&(a.fire("columnadd",{column:b.column,index:b.index}),a.resetColumns())}),b.on("remove",function(b){a.get("rendered")&&(a.resetColumns(),a.fire("columnremoved",{column:b.column,index:b.index}))})},_bindBodyEvent:function(){var a=this;a._bindScrollEvent()},_bindItemsEvent:function(){function a(a){return{record:a.item,row:a.domTarget,domTarget:a.domTarget}}var b=this,c=b.get("store");b.on("itemsshow",function(){b.fire("aftershow"),b.get("emptyDataTpl")&&(c&&0==c.getCount()?b.get("view").showEmptyText():b.get("view").clearEmptyText())}),b.on("itemsclear",function(){b.fire("clear")}),b.on("itemclick",function(a){var c,d=a.domTarget,e=a.item,f=$(d).closest("."+w),g=$(d).closest("."+t);return f.length&&(c=b.fire("cellclick",{record:e,row:g[0],cell:f[0],field:f.attr(D),domTarget:d,domEvent:a.domEvent})),c===!1?c:b.fire("rowclick",{record:e,row:g[0],domTarget:d})}),b.on("itemunselected",function(c){b.fire("rowunselected",a(c))}),b.on("itemselected",function(c){b.fire("rowselected",a(c))}),b.on("itemrendered",function(c){b.fire("rowcreated",a(c))}),b.on("itemremoved",function(c){b.fire("rowremoved",a(c))}),b.on("itemupdated",function(c){b.fire("rowupdated",a(c))})},_getInnerWidth:function(a){return a=a||this.get("width"),c(a)},_initHeader:function(){var a=this,b=a.get("header"),c=a.get("el").find("."+k);b||(b=new h({columns:a.get("columns"),tableCls:a.get("tableCls"),forceFit:a.get("forceFit"),width:a._getInnerWidth(),render:c,parent:a}).render(),a.set("header",b))},_initBars:function(){var a=this,b=a.get("bbar"),c=a.get("tbar");a._initBar(b,q,"bbar"),a._initBar(c,p,"tbar")},_initBar:function(a,b,c){var d=this,e=null,g=null;if(a){if(a.xclass||a instanceof f.Controller||(a.xclass="bar",a.children=a.children||[],a.items&&(a.children.push({xclass:"bar",defaultChildClass:"bar-item-button",elCls:r,children:a.items}),a.items=null),a.pagingBar&&(e=d.get("store"),g={xclass:"pagingbar",store:e,pageSize:e.pageSize},a.pagingBar!==!0&&(g=S.merge(g,a.pagingBar)),a.children.push(g))),a.xclass){var h=d.get("el").find("."+b);h.show(),a.render=h,a.elTagName="div",a.autoRender=!0,a=d.addChild(a)}d.set(c,a)}return a},_initLoadMask:function(){var a=this,b=a.get("loadMask");b&&!b.show&&(b=new d.Mask.LoadMask({el:a.get("el")}),a.set("loadMask",b))},_uiSetWidth:function(a){var c=this;c.get("rendered")&&(b(a)?c.get("header").set("width","100%"):c.get("header").set("width",c._getInnerWidth(a))),c.get("view").setTableWidth()},_uiSetForceFit:function(a){var b=this;b.get("header").set("forceFit",a)},_uiSetHeight:function(a,b){var c=this,d=c.get("header");c.get("view").setBodyHeight(a),c.get("rendered")&&(c.get("forceFit")&&!b.prevVal&&(d.forceFitColumns(),c.get("view").setTableWidth()),d.setTableWidth())}},{ATTRS:{header:{},bbar:{},itemCls:{value:t},columns:{view:!0,value:[]},forceFit:{sync:!1,value:!1},emptyDataTpl:{view:!0},headerRowTpl:{view:!0,value:'<tr class="'+j+'grid-header-row">{cellsTpl}</tr>'},headerCellTpl:{view:!0,value:'<td class="{hideCls} '+y+'{id}" width="{width}" style="height:0"></td>'},rowTpl:{view:!0,value:'<tr class="'+t+' {oddCls}">{cellsTpl}</tr>'},cellTpl:{view:!0,value:'<td  class="{elCls} {hideCls} '+w+" "+y+'{id}" data-column-id="{id}" data-column-field = "{dataIndex}" >'+'<div class="'+x+'" >{cellText}</div>'+"</td>"},cellTextTpl:{view:!0,value:'<span class="'+z+' " title = "{tips}">{text}</span>'},events:{value:{aftershow:!1,clear:!1,cellclick:!1,columnclick:!1,rowclick:!1,rowcreated:!1,rowremoved:!1,rowselected:!1,rowunselected:!1,scroll:!1}},stripeRows:{view:!0,value:!0},tbar:{},tableCls:{view:!0,sync:!1,value:j+"grid-table"},tableTpl:{view:!0,value:'<table cellspacing="0" cellpadding="0" ><tbody></tbody></table>'},tpl:{value:'<div class="'+p+'" style="display:none"></div><div class="'+k+'"></div><div class="'+l+'"></div><div style="display:none" class="'+q+'"></div>'},innerBorder:{sync:!1,value:!0},useEmptyCell:{view:!0,value:!0},useHeaderRow:{view:!0,value:!0},xview:{value:F}}},{xclass:"grid"});return G}),define("bui/grid/header",["bui/common","bui/grid/column"],function(a){var b=a("bui/common"),c=b.prefix,d=(b.namespace("Grid"),a("bui/grid/column")),e=b.Component.View,f=b.Component.Controller,g=17,h=b.UA,i=e.extend({getContentElement:function(){return this.get("el").find("tr")},scrollTo:function(a){var b=this,c=b.get("el");void 0!==a.top&&c.scrollTop(a.top),void 0!==a.left&&c.scrollLeft(a.left)},_uiSetTableCls:function(a){var b=this,c=b.get("el").find("table");c.attr("class",a)}},{ATTRS:{emptyCellEl:{},tableCls:{}}},{xclass:"header-view"}),j=f.extend({addColumn:function(a,b){var c=this,d=0,e=c.get("columns");return a=c._createColumn(a),void 0===b&&(b=e.length,d=c.get("children").length-1),e.splice(b,0,a),c.addChild(a,d),c.fire("add",{column:a,index:b}),a},removeColumn:function(a){var c,d=this,e=d.get("columns");return a=b.isNumber(a)?e[a]:a,c=b.Array.indexOf(a,e),e.splice(c,1),d.fire("remove",{column:a,index:c}),d.removeChild(a,!0)},bindUI:function(){var a=this;a._bindColumnsEvent()},initializer:function(){var a=this,b=a.get("children"),c=a.get("columns"),d=a._createEmptyColumn();$.each(c,function(d,e){var f=a._createColumn(e);b[d]=f,c[d]=f}),b.push(d),a.set("emptyColumn",d)},getColumns:function(){return this.get("columns")},getColumnsWidth:function(){var a=this,b=a.getColumns(),c=0;return $.each(b,function(a,b){b.get("visible")&&(c+=b.get("el").outerWidth())}),c},getColumnOriginWidth:function(){var a=this,b=a.getColumns(),c=0;return $.each(b,function(a,b){if(b.get("visible")){var d=b.get("originWidth")||b.get("width");c+=d}}),c},getColumnByIndex:function(a){var b=this,c=b.getColumns(),d=c[a];return d},getColumn:function(a){var b=this,c=b.getColumns(),d=null;return $.each(c,function(b,c){return a(c)?(d=c,!1):void 0}),d},getColumnById:function(a){var b=this;return b.getColumn(function(b){return b.get("id")===a})},getColumnIndex:function(a){var c=this,d=c.getColumns();return b.Array.indexOf(a,d)},scrollTo:function(a){this.get("view").scrollTo(a)},_bindColumnsEvent:function(){var a=this;a.on("afterWidthChange",function(b){var c=b.target;c!==a&&a.setTableWidth()}),a.on("afterVisibleChange",function(b){var c=b.target;c!==a&&a.setTableWidth()}),a.on("afterSortStateChange",function(b){var c=b.target,d=a.getColumns(),e=b.newVal;e&&$.each(d,function(a,b){b!==c&&b.set("sortState","")})}),a.on("add",function(){a.setTableWidth()}),a.on("remove",function(){a.setTableWidth()})},_createColumn:function(a){return a instanceof d?a:(a.id||(a.id=b.guid("col")),new d(a))},_createEmptyColumn:function(){return new d.Empty},_isAllowScrollLeft:function(){var a=this,b=a.get("parent");return b&&!!b.get("height")},forceFitColumns:function(){function a(a,b){var c=a.get("el");a.set("width",b,{silent:1}),c.width(b)}var b=this,c=b.getColumns(),d=b.get("width"),e=d,f=b.getColumnOriginWidth(),h=0,i=0,j=null,k=b._isAllowScrollLeft();if(d){k&&(d-=g,e=d);var l=0;$.each(c,function(a,b){if(b.get("visible")&&b.get("resizable")&&l++,b.get("visible")&&!b.get("resizable")){var c=b.get("el").outerWidth();e-=c,f-=c}});var m=Math.floor(e/l),n=e/f;if(1===n)return;$.each(c,function(c,d){if(d.get("visible")&&d.get("resizable")){var e=b._getColumnBorderWith(d,c),f=d.get("originWidth");f||(d.set("originWidth",d.get("width")),f=d.get("width")),m=Math.floor((f+e)*n),a(d,m-e),h+=m,j=d}}),j&&(i=e-h,a(j,j.get("width")+i)),b.fire("forceFitWidth")}},_getColumnBorderWith:function(a,b){var c=a.get("el"),d=Math.round(parseFloat(c.css("border-left-width"))||0)+Math.round(parseFloat(c.css("border-right-width"))||0);return d=h.ie&&h.ie<8?0===b?1:d:d},setTableWidth:function(){var a=this,b=a.get("width"),c=0,d=null;"auto"!=b&&(a.get("forceFit")?a.forceFitColumns():a._isAllowScrollLeft()&&(c=a.getColumnsWidth(),d=a.get("emptyColumn"),c>b?d.get("el").width(g):d.get("el").width("auto")))},_uiSetWidth:function(){var a=this;a.setTableWidth()},_uiSetForceFit:function(a){var b=this;a&&b.setTableWidth()}},{ATTRS:{columns:{value:[]},emptyColumn:{},focusable:{value:!1},forceFit:{sync:!1,view:!0,value:!1},tpl:{view:!0,value:'<table cellspacing="0" class="'+c+'grid-table" cellpadding="0">'+"<thead><tr></tr></thead>"+"</table>"},tableCls:{view:!0},xview:{value:i},events:{value:{add:!1,remove:!1}}}},{xclass:"grid-header",priority:1});return j}),define("bui/grid/simplegrid",["bui/common","bui/list"],function(a){var b=a("bui/common"),c=a("bui/list"),d=b.Component,e=(d.UIBase,b.prefix),f=e+"grid",g=f+"-row",h=e+"grid-row-odd",i=e+"grid-row-even",j=e+"grid-border",k=c.SimpleListView.extend({setColumns:function(a){var c=this,d=c.get("headerRowEl");a=a||c.get("columns"),d.empty(),b.each(a,function(a){c._createColumn(a,d)})},_createColumn:function(a,c){var d=this,e=b.substitute(d.get("columnTpl"),a);$(e).appendTo(c)},getItemTpl:function(a,c){var d=this,e=d.get("columns"),f=d.get("rowTpl"),g=0===c%2?h:i,j=[];return b.each(e,function(b){var c=b.dataIndex;j.push(d._getCellTpl(b,c,a))}),f=b.substitute(f,{cellsTpl:j.join(""),oddCls:g})},_getCellTpl:function(a,c,d){var e=this,f=a.renderer,g=f?f(d[c],d):d[c],h=e.get("cellTpl");return b.substitute(h,{elCls:a.elCls,text:g})},clearData:function(){var a=this,b=a.get("itemContainer");b.empty()},showData:function(a){var c=this;b.each(a,function(a,b){c._createRow(a,b)})},_uiSetInnerBorder:function(a){var b=this,c=b.get("el");a?c.addClass(j):c.removeClass(j)},_uiSetTableCls:function(a){var b=this,c=b.get("el").find("table");c.attr("class",a)}},{ATTRS:{headerRowEl:{valueFn:function(){var a=this,b=a.get("el").find("thead");return b.children("tr")}},itemContainer:{valueFn:function(){return this.get("el").find("tbody")}},tableCls:{}}},{xclass:"simple-grid-veiw"}),l=b.List.SimpleList.extend({renderUI:function(){this.get("view").setColumns()},bindUI:function(){var a=this,b=a.get("itemCls"),c=b+"-hover",d=a.get("el");d.delegate("."+b,"mouseover",function(a){var b=$(a.currentTarget);b.addClass(c)}).delegate("."+b,"mouseout",function(a){var b=$(a.currentTarget);b.removeClass(c)})},showData:function(a){this.clearData(),this.set("items",a)},clearData:function(){this.get("view").clearData()},_uiSetColumns:function(a){var b=this;b.clearData(),b.get("view").setColumns(a)}},{ATTRS:{itemCls:{view:!0,value:g},tableCls:{view:!0,value:f+"-table"},columns:{view:!0,sync:!1,value:[]},tpl:{view:!0,value:'<table cellspacing="0" class="{tableCls}" cellpadding="0"><thead><tr></tr></thead><tbody></tbody></table>'},innerBorder:{view:!0,value:!0},rowTpl:{view:!0,value:'<tr class="'+g+' {oddCls}">{cellsTpl}</tr>'},cellTpl:{view:!0,value:'<td class="'+f+'-cell {elCls}"><div class="'+f+'-cell-inner"><span class="'+f+'-cell-text">{text}</span></div></td>'},columnTpl:{view:!0,value:'<th class="'+f+'-hd {elCls}" width="{width}"><div class="'+f+'-hd-inner"><span class="'+f+'-hd-title">{title}</span></div></th>'},events:{value:{}},xview:{value:k}}},{xclass:"simple-grid"});return l.View=k,l}),define("bui/grid/format",function(){function a(a){return 10>a?"0"+a:a}var b={dateRenderer:function(b){if(!b)return"";if(BUI.isString(b))return b;var c=null;try{c=new Date(b)}catch(d){return""}return c&&c.getFullYear?c.getFullYear()+"-"+a(c.getMonth()+1)+"-"+a(c.getDate()):""},datetimeRenderer:function(b){if(!b)return"";if(BUI.isString(b))return b;var c=null;try{c=new Date(b)}catch(d){return""}return c&&c.getFullYear?c.getFullYear()+"-"+a(c.getMonth()+1)+"-"+a(c.getDate())+" "+a(c.getHours())+":"+a(c.getMinutes())+":"+a(c.getSeconds()):""},cutTextRenderer:function(a){return function(b){return b=b||"",b.toString().length>a?b.toString().substring(0,a)+"...":b}},enumRenderer:function(a){return function(b){return a[b]||""}},multipleItemsRenderer:function(a){var c=b.enumRenderer(a);return function(a){var b=[];return a?(BUI.isArray(a)||(a=a.toString().split(",")),$.each(a,function(a,d){b.push(c(d))}),b.join(",")):""}},moneyCentRenderer:function(a){return BUI.isString(a)&&(a=parseFloat(a)),$.isNumberic(a)?(.01*a).toFixed(2):a}};return b});